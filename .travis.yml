language: node_js
sudo: required
node_js:
  - '4.3'
  - '6.10'
  - '7.8'
cache:
  edge: true
  directories:
    - $(npm root -g)
    - node_modules
    - deep_modules
    - $(npm config get prefix)/bin
branches:
  only:
    - master
    - dev
    - stage
    - test
before_install:
  - cp bin/test/package.json .
after_success:
  - npm run coverage
after_script:
  - npm run remove-coverage
env:
  global:
    - MAJOR_VERSIONS=master
    - DEEP_NO_INTERACTION=1
    - E2E_TESTING=none
    - secure: 
        E5bPiyM1xLfL/3utexvN3xhAEFv0ww3LWjZzkciGDInovA2mPb4sQ4VRyDkqiOH3CQdllP6JjYP6Fq5fvTakD30kM5OXEhhZyZgU0IlfbR+uqQPeIwgpBIgZbV6DCmW2XKnRFJJ/2uU9vSk5+921ZH9TfbhBcCvTPlJfBRR7JFCLIxisGr1IGCAwDMXr18A1vRrdAmQ0sra2xSCPvTG+p9iT0FAmZDq8a7j3r870B9JPREdlau1esyo71JPo1ImwP2OYbd77hsuUDYkPm9SU1e5KXOeOCIvhJysvXfz8c+0ho4cWa/vyDo9YVfiz6Kmn/3IwCPVwroUlCpsmh9SZP33k5XyWLsApUbQNzE1RrDUXq71P/BE0iLmXPGH1WKyTpoLrKhdQr+ad0bQtAbT1rPRVoK1vfiphgkc1swAqXDAQxxdHtEqUgIIErsK7FAii7KW92ETYmfOlm6zbhl+ziZxyrNlmZK1Ch3NVsINWZr9wcOH4G1HBT7l69fiSW+hAuDFuC1ztUGWf/ysvP7/Pqavk/ZF222zSTrEy9j8+Lr2y2mBSMWZ9V6u8BRAgJxHkBXH2GgnH5AS9Ltwdp8NNqIij0vHRljGAesfVHnj+S19iUnBvBWwarHKNEHrpf+6l7VDLO41NwsncnBDKqCwnpBGK+Ssmywubg+8a6AZOLOI=
    - secure: 
        sUWTE/OBPeCepBRjQ7X0e4S0N3YEtG0sxc1KjuqdsTqNZjP8q4T9zr4A8j98JWIexvIech4F1hyiTWGsL9VyU9OzdvhOx79BeKAZUURadiMImzVOZCoQeySyR8h1P3cQDEWA2tggsxMLRW+7rf1pr1RQb6UUJyjXSgt7GgdHPgNLtSA/OckKll48k9V95dloM2HcsvKnYD+GD+ZCGd6aulbZrI5sA0jrbjfHel/feET7RHo/EWlfRe/nnAUfGCrV1pyT3Z6Sv50/eL9IckkyjZwwpI/tNuaahScSXFuJW3q9wyM0jtTqIBnepAPvnC7kqMLWr1SnOPVIdoBVxNz18jwxBZ/y2fsJlUhZzvI7qtsVObp/79R+hg0YK17w7FA/QPZLCbHp3iCW4RtY+0my+U5/X5yUf1XpHY43bJD/Cd9tLec+fulf5xPt2F2Pv97j6oDPF7fQC1pvDoikgNpahw2FOgL2xd8VZuSeui1drEHefKAssLwwAsHg6EIydCes9TlLJoEiMh276A/P+RN0UTc/new070ElWn0814B/Ko6ufLO5EX52k+PHO02gy3F0KoZ/iuqzevzOko4hCc5hd5KtZVj1l2xySi4ifSLHUpPm2KRrIfXmlw+nPetm6tS0BdIye12xnFIdLp5pEIrYgKUmh50QcwPtJvLQaXx53KA=
    - secure: 
        OwMyf5dajEVg3vxPHMKBDqhQVWgCEQcz3PA46Pp50elRqOZfAKR0uEU2hVahyZI7nlErVAizAZLSlgg181LbMUEAZpVvR7eqJyRzJ+VDBr+tgHdfSLSELaf+MOB1TnkWA3fzsnSjg6TzOLwE+e+r9T9dyoS/zL1uupUtqdqgsGSiP/jcqDk9p4rKoWJMf7KJZ7Z1VMlSYwxtA9V0CzT3E30eOqH2xYmVjV4Bd/r0+c3tndsINNIACggF1SZtx6xqcvs99sc7a8Iq7Mum0+0XaRIB2MwfoMYwq1smGKOuPfI+DwQW8PuC5spl6MXVggL49i/FiJVU7q2ZUHOX+kvX81lF2PPk7egWMyNVOKHN7Ubc2KCC+SGYmgDSkXXwW66s42NvPxPoxFfKYGKriqpoBR8EN7Tu1PyxWY3b3oAmnTV8+3GWfg/2tcpjOnVhc7Y8Tb3FKmy64zo5trJSq3HU8Gz0vjbGPZIicuFZMptA7IT0CyWfaNIFtHpKxo7ncvh8YpKcAh5o0URlP4RfjIvx6hTSpGPQ06MyWyZZHXpkbRVWAz/veqBjLSh9RhJlWOS+DtLRont/Qs/lG5ZbuCevGyjnOZg8UX8v5UKXJFZVda5zGzknFuNgqmZQBUytQPTwlUBW6Ci2MRWfit3WyT/fgAHdQj0EDk0ig/Y++WJZWV8=
    - secure: 
        m8p3aG9vFFiVkEGWNPbh7XLutU3lLKA8jT1F59NJyXINhquWLGH4M/UEOiYKnmaC6GNRqBJCmM21YKIg46bRAAjo8C6yAxr3EL0Gmu4J4+qpldUZu4zOJfR7asDgiT8J9jcBvz0etAY8WHahLcMIJS7aRLJ1gNQDFQAbSys0+Aza4Kvrd4eWS86ra8hUfv3wJ7bZ13qYdtuIU8oKzaLQMcmOFI6mP46ZXhenyQ5vEVtxy9y10bOFu62NQISzL9sw8t9CZIgerumJ/jkJKsciqdu4EzsN/xlVMy1tlq4TL2PXBa/zw2vReUx8O/MMe5xvSj30YtUYXCbcXsH2gWWPfx1gFWrOh0v2sIHa2UEc6gr28cnnmkbJnaHDQqLkNyV/DN5zSag+gIttLi0iP/MdKajF5QvEJWhyqd4IS9nP0OX+52fwTAxBXnL7klPnVNLOcyWXmmJwNtX+U5sApO60/cMFKsemsUgEiP9h9dnoAwY0XEcweuyUN0YiwmS1bc0jFmYdqItOIU44zbl9xji0F/j6FzaQWPSe1OnKd/MaW6OJCW9xvFTKvSWP9SyNbzV/+6Ln+mkNwAWmSho7c9fp7uS6iiT8flnEL/HtjKh+BFHu/WcKTSrEIioypOsIX2SYI+VYNGwuwbiUVhblBLGmJ/ra4I3K6vHuvt8Wm7RECJE=
    - secure: 
        1ouG9syj1/va03Ro+shBBq01XruZf/Of1f7FnlkryDHJlcNlTJV7a1Dy4aL5xVorf/3RsBfsmqmDPASWqkiLPZCSWvwySUDj/s5QwGWmxoUiqZOEBqB3MTnD78uLVzxNHn0o97BpbNn62sR5Z7sMwq2CPEJ87eoC+9iwufRDQF1JJzDxfVh40ToR6Zf1OX3FYPedv5FFykjGiEK4r6s03T/ZE5y/VIKJgvTJBdxyxwmPzgeoUn3VYlEYTWWrwgKQDAGCK+rTm9Y+qLHPdjMlLv5tDKjaWn3o7jZG450KBCYAneviK9wnWHZFhs8U7xzEH6A7AYD77C8I9FP6U3r3kfI5uD6cI+ozm8gB/PXQVe/gZYao15FJ13p+SIFtbzgXcJTQD45/noWkP4lO2Prd25f5kHKjFEspdQ/xWQI/Xwqx6y8uRlpKElUiFka/wpCqu0d3guXZB2rg/OINOGZfLkr7BhU52/sZVQQnyllmvwTekzciWizK5NowLTHcjYKZ92kp3CjqPRZuE2sTBABGArnyxsy0VY42Y2ERj/6TtnTSiaXtXJOEmZ6LU5KPxZ1QcUKACn5wuZZjoCtWEq06fe0I/avHcXwsVBUNw22Q7YZMEpvMwKGwN+773J8FLzXe8uAC6fb3kKfHQf3y1utBvTBOcBOZ8puEO4xkFlrPd0Q=
    - secure: 
        agZ65i+DQfS2wSpdhieR+ucbnLtb6TvDlJ0rz8Zu8KxFiHT+2O32e0yUnfQgTeLr6FTzpyvJwE+A2A9rqZtr9GTonPi4OLHdQGG6mTnqd4BMJIrZ9bACsZfvBOSXL+0KJPK7R6Lea9OT4nBIuRetwTNWVL4hXAEL6o9Ez2F7fyECYnfHZclQBBF/HNM8PAGeEeyK0y29hgG49RQGBJ6Iiu3LHqW1Gw2EKFsEPRTV5SNmDEfY2WHwXUQkbKkiwduTSWAgbwyceDV7dzWj21RKZBeBeHuDyNzcZgtD1TYzdh7Ft1V/SrHkD8DI+rtPQX3pszVF9KoIQW6MIxjFDPeXng0mQ70xX2aLNj1dUpDe4VhCdxur8biIm3WxmSe95eREFnNfvC2GdANrVcEIqVEXGZwt6qttsfGhv/GfvmlS+Q9BYSEBS8QN7n1J3zfbAtLv2WSlHTyWXX70Yn7lLv0YfgjExErtzFa52tU2AUxmmfaYQS2z7qr9ge3knnKLMzqkee0tyszsS4O9rx+Mea6HYtPYi1LzuaeNlMdtE8HdafRl7Wk6sr3lQUiIcyWyD1v6xpvB383HTF7wqSotC4wgwGB2dtbd6GULRFedp5mSZmvoo6R8FimB+e3AFXI+3Q9NQOtoeLV3q0/9sSMv3EDwjaqcuG0aFLNTB6QEbV5n1Xs=
    - secure: 
        I5/YYb4bL6lf308lzvfi2/TA3dZlIsLoXNvoHWE/dHm+NFcIqVl/3L7O2NM6W0I59+IG6lXt0ZM1FzKB1J2Pw669qj4qnYuR0TnAzfPpmtusOV9NI6XmDtYb7I0llcaa1g5EJRMxen/D0JWVvptr9INOnIH8UicGh6IaUoACP6TIbelwAQJ0Qrtnp9Ny+X2fYbeSos+N+MtmN33Q8/Hi6EmaKmMF6uCleEkiJEBrA3pB4ECWna7cRCcoabwJCY52bWV09ysAilkh82f+pGyvh9OtVHJMlO/zav3YDsOXwsmINBDz+F5fVN61aU5RxJzjDi/RYXqQ4F0VHcZwNZiqSElEbcUjd6khaOg73XcfBLdiNHp3BPcaqs7mZleBdXXPh+NiQoitzNlQi2OXqWa6NO1+M8ojZOU08EUgiCOxVyj9fNIFxFcGcJzat2DfzkDLiB8KLi9+0B0Oi9olk9N/oOi+5KAJzE2S0hQVQS4lIUGN+6/QxqH6ZKQfA6u/U9Dwx2lAviazQH1ZN4lt2lyhh/1LondFtB4DXTD8eBOikV73Ou3pXpbs6Zxaxi+cj+T/uVhOSUnRFrbMVgOm0gd7IcXugsCtSmwdRVGKcBiZHccJWW5/XYl9CuC50n8X/ugRxGw3/6O4Zqmk48NCd+BpxpugaHA6tWrI2cLb1mI2t2s=
    - secure: 
        ZOOfLLoNXFzFvKzlS++QZ6r9qniPmz+GZ3NF/7vUvl7qGCh0xzvE9PqXT8iPhQlKHfEPOX3NV/GxOAJ9SqvNELcBCJiYUUm8gBASom2Y40pGpq3TI4YIRSb7bXBlskwGU2jFtJqsjTZ8RfWHacj7mBRXG4yoKe5gkNjsMKhahjfsCWdnjuZyZnoavs3b6W98OaLYxH3O0HBRBN7601nj6Hoqw0pGEonOywUEhlNVcOSQABWLD0ucvHMHd8ozdQCZ2CIWy+FyLN3bsYNPxGOdDi0z2y/s+MWU1zQXVtWODVC3kF+3su70f9fwL15/q0e64+q9/GGV6F+ZPQ+kUavGqRKUsVeXPLHhj5YCoeCoKfxVx2EVI4zmYkWI5v9joAZktK1Fj5GpRuUJIW6BUSl45MuOcGtvm3SnDwD1g0z75V73Kv2a7fD4PgdUzE3r+spqBf0QseKgjeV1Sp6Ml/YTdcuE0Yya59iDJ2XYnr/Vsr01oDYOLSgigtBPat7wQ26hGpa4HiCYdcgsLQ6zy2UpqoMzGviNfV2q1krWPvyNmNwso4jCbBec4uBfkBcD6aI8y3tltou95Vd4DvsMNiFIU2puESsAPeOgaS1Bh/Igoo/qfzoNVLHLc0UBjJcCby9IY2W996Iq59FYYMeAG3TBmzDBUirMCyoKncJt9XhjpCE=
  matrix:
    - TEST_SUITE=backend
    - TEST_SUITE=frontend
notifications:
  slack:
    secure: 
      eIsYTQtlG5d/GGPu4JBrvOCEVqwxGirqkOVl+D3UZGWLECzi3a/k7pmDOr41kDueWZAiM5i6c8RjvX/ngyddPoo/7WzHxxkeiukQJlb/PLWQpTU8/Wado3OQNy3rNTo9DJlQdO03o2EedQbb6vb3LaU91vawScPQmBPIZT2Gfm1NV7xxOEzXbM+asxNfM5CHCV415nfgKELgP0Xi+Nn52SgwTRBaM+chSivdbOKqtC/svb8mCCk1u5dBY1XWM5PmdgipxUn304ETR1rQwbQASkUXV6nixAGzZLkV1B8sDliMLaI0ay2Eu6/JmEHULPNi/NgKhG07hZNGpYLASFl7vTgU6ePanj/oSKpUFPrXj5jUI5TVbQ9b+63yMzop31d3b+3YhAZaFHf41p6+P2YK3QzaL4HA4kTDBARknM293zT1KC8wlKRHLKexCqc2+mgK7RTDCn8AFAxnuYcaMTGZeDPUTwjlrOuVUnEdn8OE6vPs8DPbV9UIXMLj72qzqj8aL/KtVWwr73vugSGg+UExZuujVminBZopmFcIHRme5AW33wMbXpIniw+oW6ZXUftN3sil5jTvp/vTB0aad3Odu1sqaMUciBKlQL9rR6hKhAh3S6wFCCJBH+t38ImNm5QIlu227KTEhxw/TZVKBHUKUIEFyUELlpAAU+pT1w/3BAU=
