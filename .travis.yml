language: node_js
sudo: required
node_js:
  - '4.3'
  - '7.0'
cache:
  edge: true
  directories:
    - $(npm root -g)
    - node_modules
    - deep_modules
    - $(npm config get prefix)/bin
branches:
  only:
    - master
    - dev
    - stage
    - test
before_install:
  - cp bin/test/package.json .
after_success:
  - npm run coverage
after_script:
  - npm run remove-coverage
env:
  matrix:
    - TEST_SUITE=backend
    - TEST_SUITE=frontend
  global:
    - MAJOR_VERSIONS=master
    - DEEP_NO_INTERACTION=1
    - E2E_TESTING=none
    - secure: 
        E5bPiyM1xLfL/3utexvN3xhAEFv0ww3LWjZzkciGDInovA2mPb4sQ4VRyDkqiOH3CQdllP6JjYP6Fq5fvTakD30kM5OXEhhZyZgU0IlfbR+uqQPeIwgpBIgZbV6DCmW2XKnRFJJ/2uU9vSk5+921ZH9TfbhBcCvTPlJfBRR7JFCLIxisGr1IGCAwDMXr18A1vRrdAmQ0sra2xSCPvTG+p9iT0FAmZDq8a7j3r870B9JPREdlau1esyo71JPo1ImwP2OYbd77hsuUDYkPm9SU1e5KXOeOCIvhJysvXfz8c+0ho4cWa/vyDo9YVfiz6Kmn/3IwCPVwroUlCpsmh9SZP33k5XyWLsApUbQNzE1RrDUXq71P/BE0iLmXPGH1WKyTpoLrKhdQr+ad0bQtAbT1rPRVoK1vfiphgkc1swAqXDAQxxdHtEqUgIIErsK7FAii7KW92ETYmfOlm6zbhl+ziZxyrNlmZK1Ch3NVsINWZr9wcOH4G1HBT7l69fiSW+hAuDFuC1ztUGWf/ysvP7/Pqavk/ZF222zSTrEy9j8+Lr2y2mBSMWZ9V6u8BRAgJxHkBXH2GgnH5AS9Ltwdp8NNqIij0vHRljGAesfVHnj+S19iUnBvBWwarHKNEHrpf+6l7VDLO41NwsncnBDKqCwnpBGK+Ssmywubg+8a6AZOLOI=
    - secure: 
        mqcoZ8Ne0StYYL1/U+dHM+pj8NNL65DiEt3J9Cde6ip/ICPYX+Cb9y1hMXm4EQKT/V0KYM2OQsquptH9zw2Sr9tuzgIqKKc0UKnCKEUsW9EnO67DZiO4jbqFPxgAjGLkHH4ybd5+A+u9iEYcVED7FUfIA//KYagaQ7jiitROkFlZiBnNeFfDi+SqXcUsjez4K+qUR0fs/rkTCLKp/3WYTAxSf7JozUQ+UiR9upRoSe5zcBH7uLaU87AKWhUw6AZ3iAB4Bt8ERgqK8PXUh8EMY6Sd1eCreoRq+zvhgpcMHmGWUtQYTK6hfbPTbEe+grb9hSFqJ42lzJ50k6Lq2AqYcwdCNs/ORoRu0dst6wJLtOrYtpBMF0xIXoWJ884KqppbYxTc8vP9s8CPfWiEXgpyff4zGAevyI54JuLJHHNumHWVWRRu4KveQzIMBWH8rN6KZC28TFHVCJVHR2xf05nnf1hkSrHcyO71Dltl/1Lc3WE+X10ECAYC23I4un3O8+Q4exyhbOos62OkNZSPXRZtiwG+dCR4jWgt/efUJNJQItujMFZAV2SEbUiqFgDlF8YqhtgvE5IcwcD5kB+ea0UKpeOBohM3nt4CkrrV7RTtWTuQMeawiQklhyXrhZ+qj/H43tdvI0uW3daZqPqSU85ArvW9RHutWOLCTQfxw5AnlyQ=
    - secure: 
        LYNEIjQ3zA4dgaJdOHsP0mJ/hbUDg7CuOUSJl3Iyn17ikafPp8rhGJku2Jt1T+4YIHkABddA3DCSlrJ84oEWYEVSyGhZx+8nFXCGfwN3MJAWcIQARfzWlYFSK7/xGZ414GpJufl+iDriRwIMAtZrorWUqKKuGUjN4Q+mOiF8BKzltZnxY5wgrHpCKTf8Zto+w91iYZHzpckbj3svdls4shZgkZzSMOsDf+ec0V0oVOnP3VOVFb215ptCJ3J/2u1eC283jToXaukfdqVosa/4c5sx+eUjYxzvq2xaLHd0Xy8hDKW/j95aXYESHWihfDI4rPTcyPN01DLhwbZ/HvbbqJ/botoBTj1IZIc1AAGtCVwkJEG14R8EWlYfrHfJ2UrVuTrw90pFGvShCD7VHZhVgn8ZabwOyAueoLcNrwOFLgWkTUqPRayDIoCIuYrjhBPGl7scrj6ONBNWmSclAZU/S0E54FJR692l/VneKhrjmfvMY4yDkeqUEucZhlRl0q5Y7PnxNh/DEP3BCaVRU0ITFJ/gYq8LY4/zdHkAsnqzOR7j1jHp8C0ZwbyI3fjCRjlCkhPqsRefIzhngUaCp1Q6nLhKSbN2t9NfCOL4ZvbIUwVJbjwFOhdg/QAFvHBb4Ky94xeyp01bD73V8w3EQRO9H27MoRBYoxXCmxQ07YiJ7Vo=
    - secure: 
        sUWTE/OBPeCepBRjQ7X0e4S0N3YEtG0sxc1KjuqdsTqNZjP8q4T9zr4A8j98JWIexvIech4F1hyiTWGsL9VyU9OzdvhOx79BeKAZUURadiMImzVOZCoQeySyR8h1P3cQDEWA2tggsxMLRW+7rf1pr1RQb6UUJyjXSgt7GgdHPgNLtSA/OckKll48k9V95dloM2HcsvKnYD+GD+ZCGd6aulbZrI5sA0jrbjfHel/feET7RHo/EWlfRe/nnAUfGCrV1pyT3Z6Sv50/eL9IckkyjZwwpI/tNuaahScSXFuJW3q9wyM0jtTqIBnepAPvnC7kqMLWr1SnOPVIdoBVxNz18jwxBZ/y2fsJlUhZzvI7qtsVObp/79R+hg0YK17w7FA/QPZLCbHp3iCW4RtY+0my+U5/X5yUf1XpHY43bJD/Cd9tLec+fulf5xPt2F2Pv97j6oDPF7fQC1pvDoikgNpahw2FOgL2xd8VZuSeui1drEHefKAssLwwAsHg6EIydCes9TlLJoEiMh276A/P+RN0UTc/new070ElWn0814B/Ko6ufLO5EX52k+PHO02gy3F0KoZ/iuqzevzOko4hCc5hd5KtZVj1l2xySi4ifSLHUpPm2KRrIfXmlw+nPetm6tS0BdIye12xnFIdLp5pEIrYgKUmh50QcwPtJvLQaXx53KA=
    - secure: 
        IitBdCmda73/Ie0p64rjo2wKQUwjepMzgMqR5s5RPlLNf/y5SCLIEOnrlhsFa1AFi/7Gi+Qz+wdhkveFzWD2kOdX/d3DfZQXOSeslh8YannDesZV4jM/p71+ilv0YsfLSXeuGwmP73leYpjMYCKrTajaI2RTi2owvd7slZ8gD5K/vGn7ffMXy1RJIRX80r+eefaXQHHxuT/kx0rFDeYSF/2yi51c1V1JIGosIP2LlLlIwkAlW3q5a6E7u0QSGJ61feS7MDlEOddfB0p2IjmssGQ3DNS3YlhnIznOmd8RzRiwe9fSOYd8FhcgEEC8wilovTSv0fK/+DimkV2B6PW2necsjNrWu7rjRENNR+GUny43/6C/PtIGTo7vr7tvE66ZO/82xETYfqR1l0byivKE4y+z+N/p9O13CDkOn0IWsVPWd8YolgPGCLvJaURajxGQUnO9oJTwxOD/ROo9EX9O7Yx+ti4q6kinC0I1ExnluCXljcPp12jXulrs5GmxhQYQScWtXtyMjmLbrJp3i5AQ+ODwdmAj5m2wGU2xcD3mUdF8xyAF7J9BOBQByqW6uWeDS3AW//IG7QhGrnEqqqxAUSRW7S9Q+YSdV5l/S+n233UZBVOxlWK7t7DkiPUI61EfJ7gslZT6IJikbt1o9/libjDeFA3iX6rdgdzgzw5R22A=
    - secure: 
        LLHGawKuth9hMwkToA8Up2CN/haUL8g5sYB3G514I+dz68YOj24W7reVIcLjgnCakw96ZLoi8F27G7lEvlkLVoTzUAdbsVfU9RqTcCT2fQcRSXGwOeX2zk1fze58ceFPcD95Pvs01DwcVsRuRGxPuC6skMzARORfIEiL+dM1pKYKn5y9ZLt/h7MB6JiCD7HTZHVZLbrQTuNdlvI1tAG4MwrPNe0XSVcyd/1Oo5Dv1GnAXAlfFAt2tK9Vre/yNY38scAI50XvoSHOLWzo2KtL1ULexp5Gm0k3zZuPS4abswVvu6MJxBPu8ckaj5hfECGXhNoqxQ69z1Dourfv2YCKm7+ehlu5vXGS6vHaYaV69623drYerfRl38HzFqSPEupz80FTkNFTLit5O1ZAIc5RfJ3uV229HmG1ozD7wH+35gtksdgf9uKa87x5xx+WCVbgxeXLY+pdW+O1owjsN34ZtLJj9G5qtoT6qRpUaL5hfHx+e4rCxh70u4Uw5fLpBHr6XsKQVgj2lsntW11FtqyPVu9agIxwVdJ1z4GCMIuU7u5iGSsKyaGh9onNBj9O1yDpPiGrySansme/Pq9/MJQsBEVvgQAEWo3yZuJXs1wRv6rwFIk6asgkP633RJXnwQEqhkXyrXAf0STxf2Sp7NhmmDjk/RxkSPGvkUgHoNA/TB4=
    - secure: 
        OwMyf5dajEVg3vxPHMKBDqhQVWgCEQcz3PA46Pp50elRqOZfAKR0uEU2hVahyZI7nlErVAizAZLSlgg181LbMUEAZpVvR7eqJyRzJ+VDBr+tgHdfSLSELaf+MOB1TnkWA3fzsnSjg6TzOLwE+e+r9T9dyoS/zL1uupUtqdqgsGSiP/jcqDk9p4rKoWJMf7KJZ7Z1VMlSYwxtA9V0CzT3E30eOqH2xYmVjV4Bd/r0+c3tndsINNIACggF1SZtx6xqcvs99sc7a8Iq7Mum0+0XaRIB2MwfoMYwq1smGKOuPfI+DwQW8PuC5spl6MXVggL49i/FiJVU7q2ZUHOX+kvX81lF2PPk7egWMyNVOKHN7Ubc2KCC+SGYmgDSkXXwW66s42NvPxPoxFfKYGKriqpoBR8EN7Tu1PyxWY3b3oAmnTV8+3GWfg/2tcpjOnVhc7Y8Tb3FKmy64zo5trJSq3HU8Gz0vjbGPZIicuFZMptA7IT0CyWfaNIFtHpKxo7ncvh8YpKcAh5o0URlP4RfjIvx6hTSpGPQ06MyWyZZHXpkbRVWAz/veqBjLSh9RhJlWOS+DtLRont/Qs/lG5ZbuCevGyjnOZg8UX8v5UKXJFZVda5zGzknFuNgqmZQBUytQPTwlUBW6Ci2MRWfit3WyT/fgAHdQj0EDk0ig/Y++WJZWV8=
    - secure: 
        m8p3aG9vFFiVkEGWNPbh7XLutU3lLKA8jT1F59NJyXINhquWLGH4M/UEOiYKnmaC6GNRqBJCmM21YKIg46bRAAjo8C6yAxr3EL0Gmu4J4+qpldUZu4zOJfR7asDgiT8J9jcBvz0etAY8WHahLcMIJS7aRLJ1gNQDFQAbSys0+Aza4Kvrd4eWS86ra8hUfv3wJ7bZ13qYdtuIU8oKzaLQMcmOFI6mP46ZXhenyQ5vEVtxy9y10bOFu62NQISzL9sw8t9CZIgerumJ/jkJKsciqdu4EzsN/xlVMy1tlq4TL2PXBa/zw2vReUx8O/MMe5xvSj30YtUYXCbcXsH2gWWPfx1gFWrOh0v2sIHa2UEc6gr28cnnmkbJnaHDQqLkNyV/DN5zSag+gIttLi0iP/MdKajF5QvEJWhyqd4IS9nP0OX+52fwTAxBXnL7klPnVNLOcyWXmmJwNtX+U5sApO60/cMFKsemsUgEiP9h9dnoAwY0XEcweuyUN0YiwmS1bc0jFmYdqItOIU44zbl9xji0F/j6FzaQWPSe1OnKd/MaW6OJCW9xvFTKvSWP9SyNbzV/+6Ln+mkNwAWmSho7c9fp7uS6iiT8flnEL/HtjKh+BFHu/WcKTSrEIioypOsIX2SYI+VYNGwuwbiUVhblBLGmJ/ra4I3K6vHuvt8Wm7RECJE=
notifications:
  slack:
    secure: 
      eIsYTQtlG5d/GGPu4JBrvOCEVqwxGirqkOVl+D3UZGWLECzi3a/k7pmDOr41kDueWZAiM5i6c8RjvX/ngyddPoo/7WzHxxkeiukQJlb/PLWQpTU8/Wado3OQNy3rNTo9DJlQdO03o2EedQbb6vb3LaU91vawScPQmBPIZT2Gfm1NV7xxOEzXbM+asxNfM5CHCV415nfgKELgP0Xi+Nn52SgwTRBaM+chSivdbOKqtC/svb8mCCk1u5dBY1XWM5PmdgipxUn304ETR1rQwbQASkUXV6nixAGzZLkV1B8sDliMLaI0ay2Eu6/JmEHULPNi/NgKhG07hZNGpYLASFl7vTgU6ePanj/oSKpUFPrXj5jUI5TVbQ9b+63yMzop31d3b+3YhAZaFHf41p6+P2YK3QzaL4HA4kTDBARknM293zT1KC8wlKRHLKexCqc2+mgK7RTDCn8AFAxnuYcaMTGZeDPUTwjlrOuVUnEdn8OE6vPs8DPbV9UIXMLj72qzqj8aL/KtVWwr73vugSGg+UExZuujVminBZopmFcIHRme5AW33wMbXpIniw+oW6ZXUftN3sil5jTvp/vTB0aad3Odu1sqaMUciBKlQL9rR6hKhAh3S6wFCCJBH+t38ImNm5QIlu227KTEhxw/TZVKBHUKUIEFyUELlpAAU+pT1w/3BAU=
